# ====================================
# LLMChat 后端环境变量配置模板
# ====================================
# 
# 使用说明:
# 1. 复制此文件为 backend/.env
# 2. 填写实际的配置值（移除注释）
# 3. 请勿提交 .env 文件到版本控制
#
# ====================================

# ============ 通用配置 ============
# 运行环境 (development/production/test)
NODE_ENV=development

# 服务器端口
PORT=3001

# 前端URL (用于CORS配置)
FRONTEND_URL=http://localhost:3000

# 日志级别 (error/warn/info/debug)
LOG_LEVEL=info

# ============ 数据库配置 ============
# PostgreSQL数据库连接
DB_HOST=171.43.138.237
DB_PORT=5443
DB_USER=username
DB_PASSWORD=postgres
DB_NAME=zkteco
DB_SSL=false

# ============ 认证与安全 ============
# JWT Token密钥 (至少32字符，生产环境必须修改！)
TOKEN_SECRET=your_token_secret_change_in_production_min_32_chars

# Token有效期（秒，默认24小时）
TOKEN_TTL_SECONDS=86400

# Session密钥 (用于express-session)
SESSION_SECRET=your_session_secret_change_in_production

# ============ Redis配置 ============
# Redis服务器（用于Token存储和Rate Limiting）
# 注意: 如不配置Redis，系统将使用内存存储（单实例可用，多实例需Redis）
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=123456
REDIS_DB=0

# ============ FastGPT智能体配置 ============
# FastGPT API端点（基础URL，不包含路径）
# FASTGPT_ENDPOINT=https://api.fastgpt.in/api

# FastGPT智能体1 (主要对话智能体)
# FASTGPT_API_KEY_1=fastgpt-xxxxx
# FASTGPT_APP_ID_1=xxxxx

# FastGPT智能体2 (备用/专用智能体)
#FASTGPT_API_KEY_2=fastgpt-xxxxx
# FASTGPT_APP_ID_2=xxxxx

# FastGPT智能体3 (可选 - 特殊用途智能体)
FASTGPT_API_KEY_3=fastgpt-xxxxx
FASTGPT_APP_ID_3=xxxxx

# ============ 其他AI提供商配置 ============
# OpenAI
# OPENAI_API_KEY=sk-xxxxx
# OPENAI_ENDPOINT=https://api.openai.com/v1

# Anthropic (Claude)
# ANTHROPIC_API_KEY=sk-ant-xxxxx
# ANTHROPIC_ENDPOINT=https://api.anthropic.com

# 阿里云DashScope (用于CAD智能体)
DASHSCOPE_API_KEY=sk-xxxxx
DASHSCOPE_ENDPOINT=https://dashscope.aliyuncs.com/api/v1

# ============ 速率限制 ============
# 聊天接口速率限制 (每分钟请求数)
RATE_LIMIT_CHAT_PER_MINUTE=30

# 管理接口速率限制
RATE_LIMIT_ADMIN_PER_MINUTE=100

# ============ 文件上传 ============
# 上传文件大小限制 (MB)
MAX_UPLOAD_SIZE_MB=10

# 允许的文件类型 (逗号分隔)
ALLOWED_FILE_TYPES=image/png,image/jpeg,image/jpg,image/gif,application/pdf

# ============ 监控与可观测性 ============
# APM服务端点 (可选)
# APM_ENDPOINT=http://your-apm-server:8200
# APM_SERVICE_NAME=llmchat-backend

# Sentry DSN (可选)
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# ============ 开发调试 ============
# 启用调试模式 (输出详细日志)
# DEBUG=true

# 启用详细验证日志
# VERBOSE=true

# ============ 生产环境额外配置 ============
# (生产环境启动时需要)

# 启用HTTPS
# USE_HTTPS=true

# SSL证书路径
# SSL_KEY_PATH=/path/to/private.key
# SSL_CERT_PATH=/path/to/certificate.crt

# 信任代理 (如果使用Nginx/Apache反向代理)
# TRUST_PROXY=true

# ====================================
# 配置完成后请运行验证:
# npm run validate:env
# ====================================

VISUALIZATION_ENABLED=false

QUEUE_ENABLED=false

LOG_LEVEL=info

MEMORY_OPTIMIZATION_ENABLED=false

# ===== 测试环境配置 =====
RATE_LIMIT_MAX_REQUESTS=1000
CSRF_ENABLED=false
LOG_LEVEL=warn
