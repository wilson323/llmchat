---
description: Node.js/Express 后端结构与实践
---
# Node.js/Express 后端

- 目录约定：
  - Controller 放在 [backend/src/controllers](mdc:backend/src/controllers)
  - 路由在 [backend/src/routes](mdc:backend/src/routes)
  - 业务封装在 [backend/src/services](mdc:backend/src/services)
  - 通用工具在 [backend/src/utils](mdc:backend/src/utils)
  - 类型在 [backend/src/types](mdc:backend/src/types)
- 配置：通过 dotenv + JSONC 装载；不要将生产密钥提交到仓库。
- 日志：结构化日志，落盘到 [backend/log](mdc:backend/log)；错误链路保留 cause。
- 测试：Jest 单测放置在 `__tests__`，遵循 fastgptEvents 测试模式。
- 性能：中间件有序、避免阻塞；对外请求设置超时/重试/熔断；使用缓存。
