---
description: 鉴权与路由守卫（前后端协同）
---
# 鉴权与路由守卫

- 前端：
  - 路由级守卫：未认证跳转登录；角色路由白/黑名单；懒加载与骨架屏。
  - Token 续期：在 401 时尝试静默刷新（一次）；失败则登出并清理状态。
- 后端：
  - 中间件验证身份与权限；错误使用语义化状态码与统一 `code` 字段。
  - 观测：为鉴权失败事件记录 requestId、用户 ID（脱敏）与来源 IP。
