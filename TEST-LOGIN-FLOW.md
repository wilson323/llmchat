# 登录流程测试清单

## 测试前准备
- [ ] 启动开发服务器 `npm run dev`
- [ ] 确认后端运行在 http://localhost:3001
- [ ] 确认前端运行在 http://localhost:3000
- [ ] 清除浏览器缓存和 localStorage

## 测试步骤

### 测试1：正常登录流程
1. [ ] 打开浏览器访问 http://localhost:3000/login
2. [ ] 输入管理员账号（从 backend/.env 或数据库查询）
3. [ ] 输入密码
4. [ ] 点击"登录"按钮
5. [ ] **关键验证**：检查浏览器地址栏是否跳转到 `/home`
6. [ ] 验证是否显示管理后台界面
7. [ ] 检查控制台是否有错误

**预期结果**：
- ✅ 地址栏显示 `http://localhost:3000/home`
- ✅ 显示管理后台界面（不是聊天界面）
- ✅ 无控制台错误

### 测试2：未登录访问拦截
1. [ ] 清除 localStorage（F12 → Application → Local Storage → Clear）
2. [ ] 直接访问 http://localhost:3000/home
3. [ ] **验证**：是否跳转到登录页或显示提示

**预期结果**：
- ⚠️ 当前可能没有路由守卫，可以访问（需要后续添加）

### 测试3：登录状态持久化
1. [ ] 登录成功后
2. [ ] 刷新页面（F5）
3. [ ] **验证**：是否保持在 `/home` 且仍显示管理后台

**预期结果**：
- ✅ 保持登录状态
- ✅ 仍在管理后台页面

### 测试4：退出登录
1. [ ] 在管理后台点击"退出登录"
2. [ ] **验证**：是否跳转到 `/login`
3. [ ] 验证 localStorage 是否清空

**预期结果**：
- ✅ 跳转到登录页
- ✅ localStorage 中的 auth.token 等已清除

## 测试结果记录

### 测试执行时间
- 开始时间：____
- 结束时间：____

### 测试1结果
- [ ] 通过
- [ ] 失败
- 失败原因：____

### 测试2结果
- [ ] 通过
- [ ] 失败
- 失败原因：____

### 测试3结果
- [ ] 通过
- [ ] 失败
- 失败原因：____

### 测试4结果
- [ ] 通过
- [ ] 失败
- 失败原因：____

## 发现的问题

### 问题1
- 描述：____
- 严重程度：P0/P1/P2
- 修复方案：____

### 问题2
- 描述：____
- 严重程度：P0/P1/P2
- 修复方案：____

## 总结
- 通过测试数：__/4
- 失败测试数：__/4
- 是否可以提交：是/否
- 备注：____
