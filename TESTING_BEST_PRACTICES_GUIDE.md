# ÊµãËØïÊúÄ‰Ω≥ÂÆûË∑µÊåáÂçó

## üìã Ê¶ÇËø∞

Êú¨ÊåáÂçó‰∏∫LLMChatÈ°πÁõÆÊèê‰æõÂÖ®Èù¢ÁöÑÊµãËØïÊúÄ‰Ω≥ÂÆûË∑µÔºåÁ°Æ‰øùÂõ¢ÈòüÂºÄÂèëÈ´òË¥®ÈáèÁöÑÊµãËØï‰ª£Á†ÅÔºåÂπ∂Âª∫Á´ãÂèØÊåÅÁª≠ÁöÑÊµãËØïÊñáÂåñ„ÄÇ

## üéØ ÊµãËØïÂéüÂàô

### 1. FIRSTÂéüÂàô
- **F**ast: ÊµãËØïÂ∫îËØ•Âø´ÈÄüÊâßË°å
- **I**ndependent: ÊµãËØïÂ∫îËØ•Áõ∏‰∫íÁã¨Á´ã
- **R**epeatable: ÊµãËØïÂ∫îËØ•ÂèØÈáçÂ§çÊâßË°å
- **S**elf-validating: ÊµãËØïÂ∫îËØ•ÊúâÊòéÁ°ÆÁöÑÈÄöËøá/Â§±Ë¥•ÁªìÊûú
- **T**imely: ÊµãËØïÂ∫îËØ•ÂèäÊó∂ÁºñÂÜô

### 2. ÊµãËØïÈáëÂ≠óÂ°î
```
    E2E Tests (5%)
   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  Integration Tests (25%)
 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Unit Tests (70%)
```

### 3. ÊµãËØïË¶ÜÁõñÁéáÂéüÂàô
- **ÂÖ≥ÈîÆ‰∏öÂä°ÈÄªËæë**: 100%Ë¶ÜÁõñ
- **Ê†∏ÂøÉÂäüËÉΩ**: 90%+Ë¶ÜÁõñ
- **ËæÖÂä©ÂäüËÉΩ**: 80%+Ë¶ÜÁõñ
- **Â∑•ÂÖ∑ÂáΩÊï∞**: 95%+Ë¶ÜÁõñ

## üõ†Ô∏è ÂçïÂÖÉÊµãËØïÊúÄ‰Ω≥ÂÆûË∑µ

### 1. ÊµãËØïÁªìÊûÑ

#### AAAÊ®°Âºè (Arrange-Act-Assert)
```typescript
describe('UserService', () => {
  describe('createUser', () => {
    it('should create user with valid data', () => {
      // Arrange - ÂáÜÂ§áÊµãËØïÊï∞ÊçÆ
      const userData = {
        name: 'John Doe',
        email: 'john@example.com',
        password: 'password123'
      };

      // Act - ÊâßË°åË¢´ÊµãËØïÁöÑÊìç‰Ωú
      const result = userService.createUser(userData);

      // Assert - È™åËØÅÁªìÊûú
      expect(result).toMatchObject({
        id: expect.any(String),
        name: userData.name,
        email: userData.email
      });
      expect(result.password).toBeUndefined(); // ÂØÜÁ†Å‰∏çÂ∫îËøîÂõû
    });
  });
});
```

#### Given-When-ThenÊ®°Âºè
```typescript
it('should allow user to login with correct credentials', () => {
  // Given - ÁªôÂÆöÂâçÁΩÆÊù°‰ª∂
  const credentials = { email: 'test@example.com', password: 'password123' };

  // When - ÂΩìÊâßË°åÊüê‰∏™Êìç‰ΩúÊó∂
  const loginResult = authService.login(credentials.email, credentials.password);

  // Then - ÈÇ£‰πàÂ∫îËØ•‰∫ßÁîüÈ¢ÑÊúüÁªìÊûú
  expect(loginResult.success).toBe(true);
  expect(loginResult.token).toBeDefined();
});
```

### 2. ÊµãËØïÂëΩÂêçËßÑËåÉ

#### ÊèèËø∞ÊÄßÂëΩÂêç
```typescript
‚úÖ Â•ΩÁöÑÂëΩÂêç:
- 'should return user data when valid ID is provided'
- 'should throw error when user ID is not found'
- 'should handle concurrent user creation correctly'

‚ùå ‰∏çÂ•ΩÁöÑÂëΩÂêç:
- 'test user'
- 'test 1'
- 'it works'
```

#### ÊµãËØïÊñá‰ª∂ÂëΩÂêç
```
‚úÖ Ê≠£Á°ÆÂëΩÂêç:
- UserService.test.ts
- ChatContainer.test.tsx
- api-integration.test.ts

‚ùå ÈîôËØØÂëΩÂêç:
- user_test.ts
- test_user.js
- UserSpec.ts
```

### 3. MockÂíåStubÁöÑ‰ΩøÁî®

#### MockÊúÄ‰Ω≥ÂÆûË∑µ
```typescript
// ‚úÖ Â•ΩÁöÑMockÂÆûË∑µ
describe('PaymentService', () => {
  let mockPaymentGateway: jest.Mocked<PaymentGateway>;
  let paymentService: PaymentService;

  beforeEach(() => {
    // ÂàõÂª∫MockÂØπË±°
    mockPaymentGateway = {
      processPayment: jest.fn(),
      refundPayment: jest.fn(),
      getPaymentStatus: jest.fn()
    } as any;

    paymentService = new PaymentService(mockPaymentGateway);
  });

  it('should process payment successfully', async () => {
    // Arrange
    const paymentData = { amount: 100, currency: 'USD' };
    mockPaymentGateway.processPayment.mockResolvedValue({
      id: 'payment-123',
      status: 'success'
    });

    // Act
    const result = await paymentService.processPayment(paymentData);

    // Assert
    expect(result.status).toBe('success');
    expect(mockPaymentGateway.processPayment).toHaveBeenCalledWith(paymentData);
  });
});
```

#### ÈÅøÂÖçËøáÂ∫¶Mock
```typescript
// ‚ùå ‰∏çÂ•ΩÁöÑÂÆûË∑µ - ËøáÂ∫¶Mock
describe('UserService', () => {
  it('should create user', () => {
    const mockDb = { save: jest.fn() };
    const mockEmail = { send: jest.fn() };
    const mockLogger = { info: jest.fn() };
    const mockCache = { set: jest.fn() };
    // ... Êõ¥Â§öMock

    // ÊµãËØïÈÄªËæëÂèòÂæóÂ§çÊùÇ‰∏îËÑÜÂº±
  });
});

// ‚úÖ Â•ΩÁöÑÂÆûË∑µ - Âè™MockÂ§ñÈÉ®‰æùËµñ
describe('UserService', () => {
  it('should create user', () => {
    // Âè™MockÁúüÊ≠£ÁöÑÂ§ñÈÉ®‰æùËµñ
    const mockDb = { save: jest.fn().mockResolvedValue({ id: 1 }) };
    const userService = new UserService(mockDb);

    const result = userService.createUser(userData);

    expect(result).resolves.toMatchObject({ id: 1 });
  });
});
```

### 4. ËæπÁïåÊù°‰ª∂ÊµãËØï

```typescript
describe('StringUtils', () => {
  describe('truncate', () => {
    it('should handle empty string', () => {
      expect(StringUtils.truncate('', 10)).toBe('');
    });

    it('should handle null input', () => {
      expect(StringUtils.truncate(null as any, 10)).toBe('');
    });

    it('should handle string shorter than limit', () => {
      expect(StringUtils.truncate('short', 10)).toBe('short');
    });

    it('should handle string exactly at limit', () => {
      expect(StringUtils.truncate('exactly', 7)).toBe('exactly');
    });

    it('should handle string longer than limit', () => {
      expect(StringUtils.truncate('very long string', 5)).toBe('very...');
    });

    it('should handle zero limit', () => {
      expect(StringUtils.truncate('anything', 0)).toBe('');
    });

    it('should handle negative limit', () => {
      expect(StringUtils.truncate('anything', -1)).toBe('');
    });
  });
});
```

## üîÑ ÈõÜÊàêÊµãËØïÊúÄ‰Ω≥ÂÆûË∑µ

### 1. Êï∞ÊçÆÂ∫ìÈõÜÊàêÊµãËØï

#### ‰ΩøÁî®ÊµãËØïÊï∞ÊçÆÂ∫ì
```typescript
describe('UserRepository Integration', () => {
  let testDb: Database;
  let userRepository: UserRepository;

  beforeAll(async () => {
    // ÂàõÂª∫ÊµãËØïÊï∞ÊçÆÂ∫ì
    testDb = await createTestDatabase();
    userRepository = new UserRepository(testDb);
  });

  afterAll(async () => {
    // Ê∏ÖÁêÜÊµãËØïÊï∞ÊçÆÂ∫ì
    await testDb.close();
  });

  beforeEach(async () => {
    // ÊØè‰∏™ÊµãËØïÂâçÊ∏ÖÁêÜÊï∞ÊçÆ
    await testDb.clear();
  });

  it('should save and retrieve user', async () => {
    // Arrange
    const userData = {
      name: 'John Doe',
      email: 'john@example.com'
    };

    // Act
    const savedUser = await userRepository.save(userData);
    const retrievedUser = await userRepository.findById(savedUser.id);

    // Assert
    expect(retrievedUser).toMatchObject(userData);
  });
});
```

#### ‰∫ãÂä°ÁÆ°ÁêÜ
```typescript
it('should handle transaction rollback', async () => {
  await testDb.transaction(async (trx) => {
    // Á¨¨‰∏Ä‰∏™Êìç‰ΩúÊàêÂäü
    await userRepository.save({ name: 'User 1' }, trx);

    // Á¨¨‰∫å‰∏™Êìç‰ΩúÂ§±Ë¥•
    await userRepository.save({ email: 'invalid-email' }, trx);
  });

  // È™åËØÅ‰∫ãÂä°ÂõûÊªöÔºåÊ≤°ÊúâÊï∞ÊçÆË¢´‰øùÂ≠ò
  const users = await userRepository.findAll();
  expect(users).toHaveLength(0);
});
```

### 2. APIÈõÜÊàêÊµãËØï

#### ‰ΩøÁî®SuperTest
```typescript
describe('User API Integration', () => {
  let app: Express;
  let testDb: Database;

  beforeAll(async () => {
    testDb = await createTestDatabase();
    app = createApp(testDb);
  });

  afterAll(async () => {
    await testDb.close();
  });

  describe('POST /api/users', () => {
    it('should create user successfully', async () => {
      const userData = {
        name: 'John Doe',
        email: 'john@example.com',
        password: 'password123'
      };

      const response = await request(app)
        .post('/api/users')
        .send(userData)
        .expect(201);

      expect(response.body).toMatchObject({
        id: expect.any(String),
        name: userData.name,
        email: userData.email
      });
      expect(response.body.password).toBeUndefined();
    });

    it('should return 400 for invalid data', async () => {
      const invalidData = { name: '', email: 'invalid-email' };

      const response = await request(app)
        .post('/api/users')
        .send(invalidData)
        .expect(400);

      expect(response.body.errors).toBeDefined();
    });
  });
});
```

### 3. Â§ñÈÉ®ÊúçÂä°ÈõÜÊàêÊµãËØï

#### ‰ΩøÁî®MockÊúçÂä°
```typescript
describe('EmailService Integration', () => {
  let mockEmailServer: MockEmailServer;
  let emailService: EmailService;

  beforeAll(async () => {
    mockEmailServer = new MockEmailServer();
    await mockEmailServer.start();

    emailService = new EmailService({
      host: 'localhost',
      port: mockEmailServer.port
    });
  });

  afterAll(async () => {
    await mockEmailServer.stop();
  });

  it('should send email successfully', async () => {
    const emailData = {
      to: 'test@example.com',
      subject: 'Test Email',
      body: 'This is a test email'
    };

    await emailService.send(emailData);

    const sentEmails = mockEmailServer.getEmails();
    expect(sentEmails).toHaveLength(1);
    expect(sentEmails[0]).toMatchObject(emailData);
  });
});
```

## üåê Á´ØÂà∞Á´ØÊµãËØïÊúÄ‰Ω≥ÂÆûË∑µ

### 1. ‰ΩøÁî®Playwright

#### Âü∫Êú¨E2EÊµãËØïÁªìÊûÑ
```typescript
import { test, expect } from '@playwright/test';

test.describe('User Registration Flow', () => {
  test('should register new user successfully', async ({ page }) => {
    // Navigate to registration page
    await page.goto('/register');

    // Fill registration form
    await page.fill('[data-testid=name-input]', 'John Doe');
    await page.fill('[data-testid=email-input]', 'john@example.com');
    await page.fill('[data-testid=password-input]', 'password123');
    await page.fill('[data-testid=confirm-password-input]', 'password123');

    // Submit form
    await page.click('[data-testid=register-button]');

    // Verify successful registration
    await expect(page.locator('[data-testid=success-message]')).toBeVisible();
    await expect(page).toHaveURL('/dashboard');
  });
});
```

#### È°µÈù¢ÂØπË±°Ê®°Âºè
```typescript
// pages/RegistrationPage.ts
export class RegistrationPage {
  constructor(private page: Page) {}

  async navigate() {
    await this.page.goto('/register');
  }

  async fillForm(userData: {
    name: string;
    email: string;
    password: string;
  }) {
    await this.page.fill('[data-testid=name-input]', userData.name);
    await this.page.fill('[data-testid=email-input]', userData.email);
    await this.page.fill('[data-testid=password-input]', userData.password);
    await this.page.fill('[data-testid=confirm-password-input]', userData.password);
  }

  async submit() {
    await this.page.click('[data-testid=register-button]');
  }

  async getSuccessMessage() {
    return this.page.locator('[data-testid=success-message]');
  }
}

// ‰ΩøÁî®È°µÈù¢ÂØπË±°
test('should register new user successfully', async ({ page }) => {
  const registrationPage = new RegistrationPage(page);

  await registrationPage.navigate();
  await registrationPage.fillForm({
    name: 'John Doe',
    email: 'john@example.com',
    password: 'password123'
  });
  await registrationPage.submit();

  await expect(await registrationPage.getSuccessMessage()).toBeVisible();
});
```

### 2. ÊµãËØïÊï∞ÊçÆÁÆ°ÁêÜ

#### ‰ΩøÁî®Â∑•ÂéÇÊ®°Âºè
```typescript
// factories/UserFactory.ts
export class UserFactory {
  static create(overrides: Partial<User> = {}): User {
    return {
      id: faker.datatype.uuid(),
      name: faker.name.fullName(),
      email: faker.internet.email(),
      password: faker.internet.password(),
      createdAt: new Date(),
      ...overrides
    };
  }

  static createForRegistration(overrides: Partial<User> = {}) {
    return this.create({
      email: faker.internet.email(),
      password: 'TestPassword123!',
      ...overrides
    });
  }
}

// Âú®E2EÊµãËØï‰∏≠‰ΩøÁî®
test('should login with existing user', async ({ page }) => {
  const user = UserFactory.createForRegistration();

  // È¶ñÂÖàÊ≥®ÂÜåÁî®Êà∑
  await registerUser(page, user);

  // ÁÑ∂ÂêéÁôªÂΩï
  await login(page, user.email, user.password);

  await expect(page.locator('[data-testid=dashboard]')).toBeVisible();
});
```

### 3. Á≠âÂæÖÂíåÂêåÊ≠•Á≠ñÁï•

#### ‰ΩøÁî®PlaywrightÁöÑËá™Âä®Á≠âÂæÖ
```typescript
test('should handle dynamic content loading', async ({ page }) => {
  await page.goto('/dashboard');

  // PlaywrightËá™Âä®Á≠âÂæÖÂÖÉÁ¥†ÂèØËßÅ
  await expect(page.locator('[data-testid=user-profile]')).toBeVisible();

  // Á≠âÂæÖÁΩëÁªúËØ∑Ê±ÇÂÆåÊàê
  await page.waitForResponse(response =>
    response.url().includes('/api/user/profile') &&
    response.status() === 200
  );

  // Á≠âÂæÖÁâπÂÆöÊù°‰ª∂
  await page.waitForFunction(() =>
    window.appState?.isLoaded === true
  );
});
```

## üîß ÊµãËØïÂ∑•ÂÖ∑ÂíåÈÖçÁΩÆ

### 1. JestÈÖçÁΩÆÊúÄ‰Ω≥ÂÆûË∑µ

#### Âü∫Á°ÄÈÖçÁΩÆ
```typescript
// jest.config.ts
export default {
  preset: 'ts-jest',
  testEnvironment: 'node',
  roots: ['<rootDir>/src'],
  testMatch: [
    '**/__tests__/**/*.test.ts',
    '**/?(*.)+(spec|test).ts'
  ],
  collectCoverageFrom: [
    'src/**/*.ts',
    '!src/**/*.d.ts',
    '!src/**/__tests__/**',
    '!src/**/test/**'
  ],
  coverageThreshold: {
    global: {
      branches: 75,
      functions: 80,
      lines: 80,
      statements: 80
    }
  },
  setupFilesAfterEnv: ['<rootDir>/src/__tests__/setup.ts'],
  testTimeout: 30000
};
```

#### ÊµãËØïÁéØÂ¢ÉËÆæÁΩÆ
```typescript
// src/__tests__/setup.ts
import 'jest-extended';

// ÂÖ®Â±ÄÊµãËØïËÆæÁΩÆ
beforeAll(() => {
  // ËÆæÁΩÆÊµãËØïÁéØÂ¢ÉÂèòÈáè
  process.env.NODE_ENV = 'test';
  process.env.LOG_LEVEL = 'error';
});

// ÂÖ®Â±ÄMock
jest.mock('./src/utils/logger', () => ({
  logger: {
    info: jest.fn(),
    error: jest.fn(),
    warn: jest.fn(),
    debug: jest.fn()
  }
}));

// ÊµãËØïÂ∑•ÂÖ∑
global.createMockUser = (overrides = {}) => ({
  id: 'test-user-id',
  name: 'Test User',
  email: 'test@example.com',
  ...overrides
});
```

### 2. VitestÈÖçÁΩÆÊúÄ‰Ω≥ÂÆûË∑µ

#### ÂâçÁ´ØÊµãËØïÈÖçÁΩÆ
```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    globals: true,
    environment: 'jsdom',
    setupFiles: ['./src/test/setup.ts'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'html', 'json-summary', 'lcov'],
      exclude: [
        'node_modules/**',
        'dist/**',
        '**/*.config.*',
        '**/*.d.ts'
      ]
    }
  },
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src')
    }
  }
});
```

### 3. ÊµãËØïÊï∞ÊçÆÁÆ°ÁêÜ

#### ÊµãËØïÊï∞ÊçÆÂ∫ìËÆæÁΩÆ
```typescript
// helpers/testDatabase.ts
export class TestDatabase {
  private static instance: Database;

  static async getInstance(): Promise<Database> {
    if (!this.instance) {
      this.instance = await Database.connect({
        host: 'localhost',
        port: 5433,
        database: 'test_llmchat',
        username: 'test_user',
        password: 'test_password'
      });
    }
    return this.instance;
  }

  static async reset(): Promise<void> {
    const db = await this.getInstance();
    await db.truncateAllTables();
  }

  static async close(): Promise<void> {
    if (this.instance) {
      await this.instance.close();
      this.instance = null as any;
    }
  }
}
```

## üìä ÊµãËØïÊä•ÂëäÂíåÁõëÊéß

### 1. Ë¶ÜÁõñÁéáÊä•Âëä

#### ÁîüÊàêËØ¶ÁªÜÊä•Âëä
```bash
# ÁîüÊàêHTMLË¶ÜÁõñÁéáÊä•Âëä
npm run test:coverage

# ÁîüÊàêLCOVÊ†ºÂºèÊä•Âëä
npm run test:coverage:lcov

# ‰∏ä‰º†Âà∞Codecov
npm run test:coverage:upload
```

#### Ë¶ÜÁõñÁéáÈÖçÁΩÆ
```json
{
  "coverage": {
    "reporter": ["html", "lcov", "text-summary"],
    "exclude": [
      "src/**/*.test.ts",
      "src/**/*.spec.ts",
      "src/**/__tests__/**"
    ],
    "threshold": {
      "global": {
        "branches": 75,
        "functions": 80,
        "lines": 80,
        "statements": 80
      }
    }
  }
}
```

### 2. ÊµãËØïÊÄßËÉΩÁõëÊéß

#### ÊÄßËÉΩÂü∫ÂáÜÊµãËØï
```typescript
describe('Performance Tests', () => {
  it('should process 1000 users within time limit', async () => {
    const users = Array.from({ length: 1000 }, (_, i) =>
      UserFactory.create({ name: `User ${i}` })
    );

    const startTime = performance.now();

    const results = await Promise.all(
      users.map(user => userService.processUser(user))
    );

    const endTime = performance.now();
    const duration = endTime - startTime;

    expect(duration).toBeLessThan(5000); // 5ÁßíÂÜÖÂÆåÊàê
    expect(results).toHaveLength(1000);
  });
});
```

### 3. ÊµãËØïË¥®ÈáèÊåáÊ†á

#### Ë¥®ÈáèÊ£ÄÊü•ËÑöÊú¨
```typescript
// scripts/checkTestQuality.ts
interface QualityMetrics {
  coverage: number;
  testCount: number;
  averageTestTime: number;
  flakyTests: string[];
}

export async function checkTestQuality(): Promise<QualityMetrics> {
  const coverage = await getCoverageReport();
  const testResults = await getTestResults();

  return {
    coverage: coverage.total.lines.pct,
    testCount: testResults.numTotalTests,
    averageTestTime: testResults.avgTestTime,
    flakyTests: identifyFlakyTests(testResults)
  };
}

export function validateQuality(metrics: QualityMetrics): boolean {
  return (
    metrics.coverage >= 80 &&
    metrics.averageTestTime < 1000 &&
    metrics.flakyTests.length === 0
  );
}
```

## üö® Â∏∏ËßÅÈô∑Èò±ÂíåËß£ÂÜ≥ÊñπÊ°à

### 1. ÊµãËØïÈô∑Èò±

#### ÂºÇÊ≠•ÊµãËØïÈô∑Èò±
```typescript
// ‚ùå ÈîôËØØ - Ê≤°ÊúâÁ≠âÂæÖÂºÇÊ≠•Êìç‰Ωú
it('should create user', () => {
  userService.createUser(userData);
  expect(userRepository.findById(1)).resolves.toBeDefined();
});

// ‚úÖ Ê≠£Á°Æ - ‰ΩøÁî®async/await
it('should create user', async () => {
  await userService.createUser(userData);
  const user = await userRepository.findById(1);
  expect(user).toBeDefined();
});
```

#### Êó∂Èó¥Áõ∏ÂÖ≥ÊµãËØïÈô∑Èò±
```typescript
// ‚ùå ÈîôËØØ - ‰ΩøÁî®ÁúüÂÆûÊó∂Èó¥
it('should calculate age', () => {
  const user = { birthDate: new Date('1990-01-01') };
  const age = calculateAge(user.birthDate);
  expect(age).toBe(new Date().getFullYear() - 1990);
});

// ‚úÖ Ê≠£Á°Æ - ‰ΩøÁî®Âõ∫ÂÆöÊó∂Èó¥
it('should calculate age', () => {
  const fixedDate = new Date('2023-01-01');
  jest.useFakeTimers().setSystemTime(fixedDate);

  const user = { birthDate: new Date('1990-01-01') };
  const age = calculateAge(user.birthDate);

  expect(age).toBe(33);
  jest.useRealTimers();
});
```

#### ÈöèÊú∫Êï∞ÊçÆÈô∑Èò±
```typescript
// ‚ùå ÈîôËØØ - ‰ΩøÁî®ÈöèÊú∫Êï∞ÊçÆÂØºËá¥ÊµãËØï‰∏çÁ®≥ÂÆö
it('should validate email format', () => {
  const randomEmail = faker.internet.email();
  expect(validateEmail(randomEmail)).toBe(true);
});

// ‚úÖ Ê≠£Á°Æ - ‰ΩøÁî®Âõ∫ÂÆöÁöÑÊµãËØïÊï∞ÊçÆ
it('should validate email format', () => {
  const validEmails = [
    'test@example.com',
    'user.name@domain.co.uk',
    'user+tag@example.org'
  ];

  validEmails.forEach(email => {
    expect(validateEmail(email)).toBe(true);
  });
});
```

### 2. ÊÄßËÉΩÈô∑Èò±

#### ËøáÂ∫¶MockÈô∑Èò±
```typescript
// ‚ùå ÈîôËØØ - ËøáÂ∫¶MockÂØºËá¥ÊµãËØïËÑÜÂº±
describe('UserService', () => {
  it('should create user', () => {
    const mockDb = { save: jest.fn() };
    const mockEmail = { send: jest.fn() };
    const mockLogger = { info: jest.fn() };
    const mockCache = { set: jest.fn() };
    const mockEventBus = { emit: jest.fn() };

    // ÂΩìÂÆûÁé∞ÊîπÂèòÊó∂ÔºåÊâÄÊúâMockÈÉΩÈúÄË¶ÅÊõ¥Êñ∞
  });
});

// ‚úÖ Ê≠£Á°Æ - Âè™MockÂ§ñÈÉ®‰æùËµñ
describe('UserService', () => {
  it('should create user', () => {
    const mockDb = { save: jest.fn().mockResolvedValue({ id: 1 }) };
    const userService = new UserService(mockDb);

    const result = userService.createUser(userData);

    expect(result).resolves.toMatchObject({ id: 1 });
  });
});
```

#### ÊµãËØïÊï∞ÊçÆÊ≥ÑÊºèÈô∑Èò±
```typescript
// ‚ùå ÈîôËØØ - ÊµãËØï‰πãÈó¥ÂÖ±‰∫´Áä∂ÊÄÅ
let sharedUser: User;

describe('UserService', () => {
  it('should create user', () => {
    sharedUser = userService.createUser(userData);
    expect(sharedUser.id).toBeDefined();
  });

  it('should update user', () => {
    sharedUser.name = 'Updated Name';
    const updatedUser = userService.updateUser(sharedUser);
    expect(updatedUser.name).toBe('Updated Name');
  });
});

// ‚úÖ Ê≠£Á°Æ - ÊØè‰∏™ÊµãËØïÁã¨Á´ã
describe('UserService', () => {
  it('should create user', () => {
    const user = userService.createUser(userData);
    expect(user.id).toBeDefined();
  });

  it('should update user', () => {
    const user = userService.createUser(userData);
    user.name = 'Updated Name';
    const updatedUser = userService.updateUser(user);
    expect(updatedUser.name).toBe('Updated Name');
  });
});
```

## üìö ÊåÅÁª≠Â≠¶‰π†ÂíåÊîπËøõ

### 1. ÊµãËØïÁ≠ñÁï•ÊºîËøõ

#### ‰ªéÂü∫Á°ÄÂà∞È´òÁ∫ß
1. **Âü∫Á°ÄÈò∂ÊÆµ**: ÂçïÂÖÉÊµãËØïË¶ÜÁõñ
2. **‰∏≠Á∫ßÈò∂ÊÆµ**: ÈõÜÊàêÊµãËØïÂíåMockÁ≠ñÁï•
3. **È´òÁ∫ßÈò∂ÊÆµ**: E2EÊµãËØïÂíåÊÄßËÉΩÊµãËØï
4. **‰∏ìÂÆ∂Èò∂ÊÆµ**: ÊµãËØïÊû∂ÊûÑÂíåÂ∑•ÂÖ∑ÂºÄÂèë

#### ÊµãËØïÈ©±Âä®ÂºÄÂèë(TDD)
```typescript
// 1. ÂÖàÂÜôÂ§±Ë¥•ÁöÑÊµãËØï
it('should calculate discount for premium user', () => {
  const user = { type: 'premium', registrationDate: new Date('2020-01-01') };
  const discount = calculateDiscount(user, 100);

  expect(discount).toBe(20); // 20% discount
});

// 2. ÂÆûÁé∞ÊúÄÂ∞èÂäüËÉΩ
function calculateDiscount(user: User, amount: number): number {
  if (user.type === 'premium') {
    return amount * 0.2;
  }
  return 0;
}

// 3. ÈáçÊûÑÂíå‰ºòÂåñ
function calculateDiscount(user: User, amount: number): number {
  const baseDiscount = user.type === 'premium' ? 0.2 : 0;
  const loyaltyDiscount = calculateLoyaltyDiscount(user.registrationDate);

  return amount * (baseDiscount + loyaltyDiscount);
}
```

### 2. Âõ¢ÈòüÂçè‰Ωú

#### ‰ª£Á†ÅÂÆ°Êü•Ê£ÄÊü•Ê∏ÖÂçï
- [ ] ÊµãËØïË¶ÜÁõñÁéáÊòØÂê¶ËææÊ†á
- [ ] ÊµãËØïÊòØÂê¶ÈÅµÂæ™ÂëΩÂêçËßÑËåÉ
- [ ] ÊòØÂê¶Êúâ‰∏çÂøÖË¶ÅÁöÑMock
- [ ] ÊòØÂê¶ÊµãËØïËæπÁïåÊù°‰ª∂
- [ ] ÊµãËØïÊòØÂê¶Áã¨Á´ã‰∏îÂèØÈáçÂ§ç

#### Áü•ËØÜÂàÜ‰∫´
- ÂÆöÊúüÊµãËØïÊúÄ‰Ω≥ÂÆûË∑µÂàÜ‰∫´‰ºö
- ÊµãËØïÂ∑•ÂÖ∑ÂíåÊäÄÂ∑ßÂüπËÆ≠
- ‰ª£Á†ÅÂÆ°Êü•‰∏≠ÁöÑÊµãËØïÊåáÂØº
- Êñ∞ÊàêÂëòÊµãËØïÂüπËÆ≠ËÆ°Âàí

### 3. Â∑•ÂÖ∑ÂíåÊäÄÊúØÊõ¥Êñ∞

#### Êñ∞Â∑•ÂÖ∑ËØÑ‰º∞
- ÂÆöÊúüËØÑ‰º∞Êñ∞ÁöÑÊµãËØïÂ∑•ÂÖ∑
- ËØïÁÇπÊñ∞ÁöÑÊµãËØïÊ°ÜÊû∂
- Ë∑üË∏™Ë°å‰∏öÊúÄ‰Ω≥ÂÆûË∑µ
- ÂèÇ‰∏éÂºÄÊ∫êÊµãËØïÈ°πÁõÆ

#### ÊäÄÊúØÂÄ∫Âä°ÁÆ°ÁêÜ
- ÂÆöÊúüÈáçÊûÑÊóßÊµãËØï
- Êõ¥Êñ∞ËøáÊó∂ÁöÑÊµãËØïÂ∑•ÂÖ∑
- ‰ºòÂåñÊÖ¢ÈÄüÊµãËØï
- ÁßªÈô§ÈáçÂ§çÁöÑÊµãËØï‰ª£Á†Å

---

**ÊÄªÁªì**:
Êú¨ÊåáÂçóÊèê‰æõ‰∫ÜÂÖ®Èù¢ÁöÑÊµãËØïÊúÄ‰Ω≥ÂÆûË∑µÔºåÊ∂µÁõñ‰∫Ü‰ªéÂçïÂÖÉÊµãËØïÂà∞Á´ØÂà∞Á´ØÊµãËØïÁöÑÂêÑ‰∏™ÊñπÈù¢„ÄÇÈÄöËøáÈÅµÂæ™Ëøô‰∫õÂÆûË∑µÔºåÂõ¢ÈòüÂèØ‰ª•Âª∫Á´ãÈ´òË¥®Èáè„ÄÅÂèØÁª¥Êä§ÁöÑÊµãËØïÂ•ó‰ª∂ÔºåÁ°Æ‰øù‰ª£Á†ÅË¥®ÈáèÂíåÁ≥ªÁªüÁ®≥ÂÆöÊÄß„ÄÇ

**ËÆ∞‰Ωè**: Â•ΩÁöÑÊµãËØï‰∏çÊòØ‰∏ÄÊ¨°ÊÄß‰ªªÂä°ÔºåËÄåÊòØÈúÄË¶ÅÊåÅÁª≠ÊîπËøõÂíå‰ºòÂåñÁöÑËøáÁ®ã„ÄÇÂÆöÊúüÂõûÈ°æÂíåÊõ¥Êñ∞ÊµãËØïÁ≠ñÁï•Ôºå‰øùÊåÅ‰∏éÈ°πÁõÆÂèëÂ±ïÂêåÊ≠•„ÄÇ

**‰∏ã‰∏ÄÊ≠•Ë°åÂä®**:
1. Âú®È°πÁõÆ‰∏≠ÂÆûÊñΩËøô‰∫õÊúÄ‰Ω≥ÂÆûË∑µ
2. ÂÆöÊúüÂõûÈ°æÂíåÊõ¥Êñ∞ÊµãËØïÁ≠ñÁï•
3. ÊåÅÁª≠Â≠¶‰π†ÂíåÊîπËøõÊµãËØïÊäÄËÉΩ
4. ÂàÜ‰∫´Áü•ËØÜÂíåÁªèÈ™åÔºåÊèêÂçáÂõ¢ÈòüÊï¥‰ΩìÊµãËØïÊ∞¥Âπ≥